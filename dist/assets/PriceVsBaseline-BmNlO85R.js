import{j as e,a as S,H as v,L as I}from"./index-esmbmNjg.js";import{R as A,X as N,Y as z,T as C,L as D,a as b}from"./generateCategoricalChart-B3kFxYYF.js";import{L as P,a as k}from"./LineChart-D7QY-fbC.js";import{C as R}from"./CartesianGrid-LO5VItcG.js";function L(n){return`${n>0?"+":""}${(n*100).toFixed(1)}%`}function m(n){return new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",maximumFractionDigits:0}).format(n)}function E({title:n,series:u,dataKey:y,baseValue:f,cutoverYear:j,onHoverYear:p}){const o=y==="medianPrice",w=o?"priceIndex":"rentIndex",d=S.charts[w],a=u.map(t=>{const s=t[y],x=typeof s=="number"&&f>0?s/f*100:null,h=t.kind??"projected";return{year:t.year,kind:h,value:s??null,index:x,histIndex:h==="historical"?x:null,projIndex:h==="projected"?x:null}}).filter(t=>t.year!=null),i=a[0],r=a[a.length-1],g=r&&i&&i.value!=null&&r.value!=null?(r.value-i.value)/i.value:0,l=r&&i&&r.year>i.year&&i.value!=null&&r.value!=null?Math.pow(1+g,1/(r.year-i.year))-1:0,c=l>.07?"#dc2626":l>.04?"#ca8a04":l>.02?"#16a34a":"#0369a1";return e.jsxs("div",{className:"card",style:{padding:14},children:[e.jsx("div",{className:"h2",style:{marginBottom:4},children:n}),e.jsx("div",{className:"muted",style:{fontSize:13,marginBottom:6},children:d.description}),e.jsxs("div",{style:{display:"flex",gap:16,marginBottom:12,padding:10,background:"var(--bg-subtle)",borderRadius:8,fontSize:13},children:[e.jsxs("div",{children:[e.jsx("span",{className:"muted",children:"Start:"})," ",e.jsx("strong",{children:m(i?.value??0)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"muted",children:"End:"})," ",e.jsx("strong",{children:m(r?.value??0)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"muted",children:"Total:"})," ",e.jsx("strong",{style:{color:c},children:L(g)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"muted",children:"Annual avg:"})," ",e.jsxs("strong",{children:[L(l),"/yr"]})]})]}),e.jsx("div",{style:{width:"100%",height:260},children:e.jsx(A,{children:e.jsxs(P,{data:a,margin:{top:10,right:10,bottom:10,left:0},onMouseMove:t=>{const s=t?.activeLabel;typeof s=="number"&&p?.(s)},onMouseLeave:()=>p?.(null),children:[e.jsx(R,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(N,{dataKey:"year",tick:{fontSize:11},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),e.jsx(z,{domain:["auto","auto"],tickFormatter:t=>`${t}`,label:{value:"Index (start=100)",angle:-90,position:"insideLeft",style:{fontSize:11,fill:"#6b7280"}},tick:{fontSize:11},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),e.jsx(C,{formatter:(t,s)=>typeof t!="number"?[t,s]:s==="Nominal value"?[m(t),s]:[t.toFixed(1),s],labelFormatter:t=>`Year ${t}`,contentStyle:{borderRadius:8,border:"1px solid var(--border)",fontSize:12}}),e.jsx(D,{wrapperStyle:{fontSize:12}}),e.jsx(k,{type:"monotone",dataKey:"histIndex",name:"Historical",stroke:"#94a3b8",strokeWidth:2,dot:!1,isAnimationActive:!1}),e.jsx(k,{type:"monotone",dataKey:"projIndex",name:"Projected",stroke:c,strokeWidth:3,dot:!1,activeDot:{r:5,fill:c}}),e.jsx(b,{y:100,stroke:"#9ca3af",strokeDasharray:"4 4"}),j!=null&&e.jsx(b,{x:j,stroke:"#9ca3af",strokeDasharray:"3 3",label:{value:"Model starts",position:"insideTop",fontSize:10,fill:"#6b7280"}})]})})}),e.jsxs(v,{summary:"How to interpret this chart",children:[e.jsx("p",{style:{margin:"0 0 8px 0"},children:d.interpretation}),e.jsxs("ul",{style:{margin:0,paddingLeft:16},children:[e.jsx("li",{children:"Index starts at 100 in year 0"}),e.jsx("li",{children:"Index of 150 = 50% higher than starting value"}),e.jsx("li",{children:"Index of 200 = doubled from starting value"}),e.jsx("li",{children:"Dashed line shows the starting baseline for reference"})]})]}),e.jsx(v,{summary:"Color coding",children:e.jsxs("ul",{style:{margin:0,paddingLeft:16},children:[e.jsxs("li",{children:[e.jsx("span",{style:{color:"#dc2626"},children:"■"})," Red: Very high growth (",">","7%/year) — affordability worsening rapidly"]}),e.jsxs("li",{children:[e.jsx("span",{style:{color:"#ca8a04"},children:"■"})," Yellow: Moderate growth (4-7%/year) — faster than wages typically grow"]}),e.jsxs("li",{children:[e.jsx("span",{style:{color:"#16a34a"},children:"■"})," Green: Low growth (2-4%/year) — roughly tracking inflation"]}),e.jsxs("li",{children:[e.jsx("span",{style:{color:"#0369a1"},children:"■"})," Blue: Stable/declining (","<","2%/year) — improving affordability"]})]})}),e.jsx(I,{items:[d.limitations]})]})}export{E as PriceVsBaseline};
//# sourceMappingURL=PriceVsBaseline-BmNlO85R.js.map

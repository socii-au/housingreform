import{j as e,a as b,E as x,H as p,L as w}from"./index-esmbmNjg.js";function c(n){return`${n>=0?"+":""}${(n*100).toFixed(1)}%`}function h(n){return new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD",maximumFractionDigits:0}).format(n)}function m({label:n,start:i,end:t,change:s,tooltip:r}){const l=Math.abs(s)<.1?"#6b7280":s>.4?"#dc2626":s<.2?"#16a34a":"#ca8a04";return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"140px 120px 100px 120px 1fr",alignItems:"center",gap:8,padding:"10px 0",borderBottom:"1px solid var(--border)"},children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:n}),e.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:i}),e.jsx("div",{style:{fontWeight:700,color:l,fontSize:14},children:c(s)}),e.jsx("div",{style:{fontSize:12,fontWeight:600},children:t}),e.jsx("div",{style:{height:8,background:"#e5e7eb",borderRadius:4,overflow:"hidden"},children:e.jsx("div",{style:{width:`${Math.min(100,Math.abs(s)*100)}%`,height:"100%",background:l,borderRadius:4}})})]})}function g({title:n,value:i,description:t,direction:s}){const l={positive:{bg:"#f0fdf4",border:"#86efac"},negative:{bg:"#fef2f2",border:"#fca5a5"},neutral:{bg:"#f9fafb",border:"#d1d5db"}}[s];return e.jsxs("div",{style:{padding:12,background:l.bg,border:`1px solid ${l.border}`,borderRadius:8},children:[e.jsx("div",{style:{fontSize:12,fontWeight:600,marginBottom:4},children:n}),e.jsx("div",{style:{fontSize:20,fontWeight:800},children:i}),e.jsx("div",{className:"muted",style:{fontSize:11,marginTop:4},children:t})]})}function k({series:n}){const i=b.policyChannels,t=n[0],s=n[n.length-1];if(!t||!s)return null;const r=s.policyChannels,l=(s.medianPrice-t.medianPrice)/t.medianPrice,f=(s.medianAnnualRent-t.medianAnnualRent)/t.medianAnnualRent,S=(s.dwellingStock-t.dwellingStock)/t.dwellingStock,a=t.deciles.stressRates,d=s.deciles.stressRates,o=1-r.investorDemandMultiplier,y=o!==0||r.divestedDwellingsShare>0,j=o>.05?"positive":o<-.05?"negative":"neutral",u=r.divestedDwellingsShare>.01?"positive":"neutral",v=r.rentalSupplyShockShare>.02?"negative":"neutral";return e.jsxs("div",{className:"card",style:{padding:14},children:[e.jsxs("div",{className:"h2",style:{marginBottom:4},children:["Scenario outcomes: year ",t.year," → ",s.year]}),e.jsx("div",{className:"muted",style:{fontSize:13,marginBottom:12},children:i.description}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"140px 120px 100px 120px 1fr",padding:"8px 0",borderBottom:"2px solid var(--border)",fontSize:11,fontWeight:700,color:"#6b7280"},children:[e.jsx("div",{children:"Metric"}),e.jsxs("div",{children:["Start (Yr ",t.year,")"]}),e.jsx("div",{children:"Change"}),e.jsxs("div",{children:["End (Yr ",s.year,")"]}),e.jsx("div",{children:"Visual"})]}),e.jsx(m,{label:"Median price",start:h(t.medianPrice),end:h(s.medianPrice),change:l}),e.jsx(m,{label:"Median rent (annual)",start:h(t.medianAnnualRent),end:h(s.medianAnnualRent),change:f}),e.jsx(m,{label:"Dwelling stock",start:`${(t.dwellingStock/1e6).toFixed(2)}M`,end:`${(s.dwellingStock/1e6).toFixed(2)}M`,change:S})]}),y&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{className:"h3",style:{marginBottom:8},children:["Policy channel effects (at year ",s.year,")"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:10},children:[e.jsx(g,{title:i.investorDemand.title,value:c(-o),description:o>0?"Investor demand reduced — less competition for housing":o<0?"Investor demand increased — more competition":"No change to investor demand",direction:j}),e.jsx(g,{title:i.divestment.title,value:c(r.divestedDwellingsShare),description:"Stock sold due to ownership cap enforcement",direction:u}),e.jsx(g,{title:i.rentalShock.title,value:c(r.rentalSupplyShockShare),description:"Short-term rental supply reduction from divestment",direction:v})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,padding:12,background:"var(--bg-subtle)",borderRadius:8},children:[e.jsxs("div",{children:[e.jsx("div",{className:"muted",style:{fontSize:11},children:"Rent stress rate"}),e.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:8},children:[e.jsxs("span",{style:{fontSize:18,fontWeight:700},children:[(a.rentersInStressShare*100).toFixed(0),"%"]}),e.jsx("span",{className:"muted",children:"→"}),e.jsxs("span",{style:{fontSize:18,fontWeight:700,color:d.rentersInStressShare>a.rentersInStressShare?"#dc2626":"#16a34a"},children:[(d.rentersInStressShare*100).toFixed(0),"%"]}),e.jsx(x,{effect:c(d.rentersInStressShare-a.rentersInStressShare),direction:d.rentersInStressShare>a.rentersInStressShare?"negative":"positive"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"muted",style:{fontSize:11},children:"Mortgage stress rate"}),e.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:8},children:[e.jsxs("span",{style:{fontSize:18,fontWeight:700},children:[(a.mortgagedOwnersInStressShare*100).toFixed(0),"%"]}),e.jsx("span",{className:"muted",children:"→"}),e.jsxs("span",{style:{fontSize:18,fontWeight:700,color:d.mortgagedOwnersInStressShare>a.mortgagedOwnersInStressShare?"#dc2626":"#16a34a"},children:[(d.mortgagedOwnersInStressShare*100).toFixed(0),"%"]}),e.jsx(x,{effect:c(d.mortgagedOwnersInStressShare-a.mortgagedOwnersInStressShare),direction:d.mortgagedOwnersInStressShare>a.mortgagedOwnersInStressShare?"negative":"positive"})]})]})]}),e.jsx(p,{summary:"Understanding policy channels",children:e.jsxs("ul",{style:{margin:0,paddingLeft:16},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Investor demand:"})," ",i.investorDemand.mechanism]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Divestment:"})," ",i.divestment.mechanism]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Rental shock:"})," ",i.rentalShock.mechanism]})]})}),e.jsx(p,{summary:"How to read the color coding",children:e.jsxs("ul",{style:{margin:0,paddingLeft:16},children:[e.jsxs("li",{children:[e.jsx("span",{style:{color:"#dc2626"},children:"Red:"})," High growth (",">"," 40%) — worse affordability"]}),e.jsxs("li",{children:[e.jsx("span",{style:{color:"#ca8a04"},children:"Yellow:"})," Moderate growth (20-40%) — some pressure"]}),e.jsxs("li",{children:[e.jsx("span",{style:{color:"#16a34a"},children:"Green:"})," Low growth (","<"," 20%) — stable/improving"]}),e.jsxs("li",{children:[e.jsx("span",{style:{color:"#6b7280"},children:"Gray:"})," Minimal change (","<"," 10%)"]})]})}),e.jsx(w,{items:["Policy effects are modeled approximations based on assumed elasticities","Actual investor behavioral responses may differ","Transition dynamics simplified — real-world adjustments are messier"]})]})}export{k as AffordabilityFlow,k as InvestorFlow,k as PolicyChannelsFlow};
//# sourceMappingURL=InvestorFlow-Bix7hFVQ.js.map

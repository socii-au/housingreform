import{R as m,r as de,j as s,a as pe,H as U,L as he}from"./index-esmbmNjg.js";import{d as C,b as F,p as $,q as B,C as K,A as me,e as M,h as J,r as fe,g as Q,c as ae,j as ye,k as ve,u as ge,i as G,G as xe,l as Z,m as ee,D as be,n as Ae,X as ie,Y as se,o as je,R as we,T as ke,L as Pe}from"./generateCategoricalChart-B3kFxYYF.js";import{C as Oe}from"./CartesianGrid-LO5VItcG.js";var Se=["layout","type","stroke","connectNulls","isRange","ref"],Ee=["key"],oe;function I(e){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},I(e)}function le(e,n){if(e==null)return{};var r=Le(e,n),t,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function Le(e,n){if(e==null)return{};var r={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(n.indexOf(t)>=0)continue;r[t]=e[t]}return r}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},N.apply(this,arguments)}function te(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,t)}return r}function D(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?te(Object(r),!0).forEach(function(t){P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function De(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ne(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,ue(t.key),t)}}function _e(e,n,r){return n&&ne(e.prototype,n),r&&ne(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ne(e,n,r){return n=W(n),Re(e,ce()?Reflect.construct(n,r||[],W(e).constructor):n.apply(e,r))}function Re(e,n){if(n&&(I(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function Ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ce=function(){return!!e})()}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W(e)}function Me(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&X(e,n)}function X(e,n){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},X(e,n)}function P(e,n,r){return n=ue(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function ue(e){var n=Be(e,"string");return I(n)=="symbol"?n:n+""}function Be(e,n){if(I(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,n);if(I(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var S=(function(e){function n(){var r;De(this,n);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return r=Ne(this,n,[].concat(a)),P(r,"state",{isAnimationFinished:!0}),P(r,"id",ge("recharts-area-")),P(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),G(o)&&o()}),P(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),G(o)&&o()}),r}return Me(n,e),_e(n,[{key:"renderDots",value:function(t,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var u=this.props,c=u.dot,h=u.points,p=u.dataKey,d=C(this.props,!1),f=C(c,!0),A=h.map(function(g,k){var x=D(D(D({key:"dot-".concat(k),r:3},d),f),{},{index:k,cx:g.x,cy:g.y,dataKey:p,value:g.value,payload:g.payload,points:h});return n.renderDotItem(c,x)}),j={clipPath:t?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return m.createElement(F,N({className:"recharts-area-dots"},j),A)}},{key:"renderHorizontalRect",value:function(t){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,u=o[0].x,c=o[o.length-1].x,h=t*Math.abs(u-c),p=$(o.map(function(d){return d.y||0}));return B(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max($(i.map(function(d){return d.y||0})),p)),B(p)?m.createElement("rect",{x:u<c?u:u-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(t){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,u=o[0].y,c=o[o.length-1].y,h=t*Math.abs(u-c),p=$(o.map(function(d){return d.x||0}));return B(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max($(i.map(function(d){return d.x||0})),p)),B(p)?m.createElement("rect",{x:0,y:u<c?u:u-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(t){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(t):this.renderHorizontalRect(t)}},{key:"renderAreaStatically",value:function(t,a,i,o){var l=this.props,u=l.layout,c=l.type,h=l.stroke,p=l.connectNulls,d=l.isRange;l.ref;var f=le(l,Se);return m.createElement(F,{clipPath:i?"url(#clipPath-".concat(o,")"):null},m.createElement(K,N({},C(f,!0),{points:t,connectNulls:p,type:c,baseLine:a,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&m.createElement(K,N({},C(this.props,!1),{className:"recharts-area-curve",layout:u,type:c,connectNulls:p,fill:"none",points:t})),h!=="none"&&d&&m.createElement(K,N({},C(this.props,!1),{className:"recharts-area-curve",layout:u,type:c,connectNulls:p,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(t,a){var i=this,o=this.props,l=o.points,u=o.baseLine,c=o.isAnimationActive,h=o.animationBegin,p=o.animationDuration,d=o.animationEasing,f=o.animationId,A=this.state,j=A.prevPoints,g=A.prevBaseLine;return m.createElement(me,{begin:h,duration:p,isActive:c,easing:d,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var x=k.t;if(j){var E=j.length/l.length,y=l.map(function(w,R){var _=Math.floor(R*E);if(j[_]){var L=j[_],z=M(L.x,w.x),H=M(L.y,w.y);return D(D({},w),{},{x:z(x),y:H(x)})}return w}),v;if(B(u)&&typeof u=="number"){var b=M(g,u);v=b(x)}else if(J(u)||fe(u)){var O=M(g,0);v=O(x)}else v=u.map(function(w,R){var _=Math.floor(R*E);if(g[_]){var L=g[_],z=M(L.x,w.x),H=M(L.y,w.y);return D(D({},w),{},{x:z(x),y:H(x)})}return w});return i.renderAreaStatically(y,v,t,a)}return m.createElement(F,null,m.createElement("defs",null,m.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),m.createElement(F,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,u,t,a)))})}},{key:"renderArea",value:function(t,a){var i=this.props,o=i.points,l=i.baseLine,u=i.isAnimationActive,c=this.state,h=c.prevPoints,p=c.prevBaseLine,d=c.totalLength;return u&&o&&o.length&&(!h&&d>0||!Q(h,o)||!Q(p,l))?this.renderAreaWithAnimation(t,a):this.renderAreaStatically(o,l,t,a)}},{key:"render",value:function(){var t,a=this.props,i=a.hide,o=a.dot,l=a.points,u=a.className,c=a.top,h=a.left,p=a.xAxis,d=a.yAxis,f=a.width,A=a.height,j=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var k=this.state.isAnimationFinished,x=l.length===1,E=ae("recharts-area",u),y=p&&p.allowDataOverflow,v=d&&d.allowDataOverflow,b=y||v,O=J(g)?this.id:g,w=(t=C(o,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},R=w.r,_=R===void 0?3:R,L=w.strokeWidth,z=L===void 0?2:L,H=ye(o)?o:{},Y=H.clipDot,q=Y===void 0?!0:Y,T=_*2+z;return m.createElement(F,{className:E},y||v?m.createElement("defs",null,m.createElement("clipPath",{id:"clipPath-".concat(O)},m.createElement("rect",{x:y?h:h-f/2,y:v?c:c-A/2,width:y?f:f*2,height:v?A:A*2})),!q&&m.createElement("clipPath",{id:"clipPath-dots-".concat(O)},m.createElement("rect",{x:h-T/2,y:c-T/2,width:f+T,height:A+T}))):null,x?null:this.renderArea(b,O),(o||x)&&this.renderDots(b,q,O),(!j||k)&&ve.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(t,a){return t.animationId!==a.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,curBaseLine:t.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:t.points!==a.curPoints||t.baseLine!==a.curBaseLine?{curPoints:t.points,curBaseLine:t.baseLine}:null}}])})(de.PureComponent);oe=S;P(S,"displayName","Area");P(S,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!xe.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});P(S,"getBaseValue",function(e,n,r,t){var a=e.layout,i=e.baseValue,o=n.props.baseValue,l=o??i;if(B(l)&&typeof l=="number")return l;var u=a==="horizontal"?t:r,c=u.scale.domain();if(u.type==="number"){var h=Math.max(c[0],c[1]),p=Math.min(c[0],c[1]);return l==="dataMin"?p:l==="dataMax"||h<0?h:Math.max(Math.min(c[0],c[1]),0)}return l==="dataMin"?c[0]:l==="dataMax"?c[1]:c[0]});P(S,"getComposedData",function(e){var n=e.props,r=e.item,t=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,u=e.dataKey,c=e.stackedData,h=e.dataStartIndex,p=e.displayedData,d=e.offset,f=n.layout,A=c&&c.length,j=oe.getBaseValue(n,r,t,a),g=f==="horizontal",k=!1,x=p.map(function(y,v){var b;A?b=c[h+v]:(b=Z(y,u),Array.isArray(b)?k=!0:b=[j,b]);var O=b[1]==null||A&&Z(y,u)==null;return g?{x:ee({axis:t,ticks:i,bandSize:l,entry:y,index:v}),y:O?null:a.scale(b[1]),value:b,payload:y}:{x:O?null:t.scale(b[1]),y:ee({axis:a,ticks:o,bandSize:l,entry:y,index:v}),value:b,payload:y}}),E;return A||k?E=x.map(function(y){var v=Array.isArray(y.value)?y.value[0]:null;return g?{x:y.x,y:v!=null&&y.y!=null?a.scale(v):null}:{x:v!=null?t.scale(v):null,y:y.y}}):E=g?a.scale(j):t.scale(j),D({points:x,baseLine:E,layout:f,isRange:k},d)});P(S,"renderDotItem",function(e,n){var r;if(m.isValidElement(e))r=m.cloneElement(e,n);else if(G(e))r=e(n);else{var t=ae("recharts-area-dot",typeof e!="boolean"?e.className:""),a=n.key,i=le(n,Ee);r=m.createElement(be,N({},i,{key:a,className:t}))}return r});var Ie=Ae({chartName:"AreaChart",GraphicalChild:S,axisComponents:[{axisType:"xAxis",AxisComp:ie},{axisType:"yAxis",AxisComp:se}],formatAxisMap:je});function V(e){return new Intl.NumberFormat("en-AU").format(Math.round(e))}function re(e){return`${e>=0?"+":""}${(e*100).toFixed(1)}%`}function Te({series:e,onHoverYear:n}){const r=pe.charts.stockDemand,t=e.map(d=>({year:d.year,dwellingStock:d.dwellingStock??0,population:d.population??0,demandHouseholds:(d.population??0)/2.5})),a=t[0],i=t[t.length-1],o=i?(i.dwellingStock-a.dwellingStock)/a.dwellingStock:0,l=i?(i.demandHouseholds-a.demandHouseholds)/a.demandHouseholds:0,u=i?i.dwellingStock-a.dwellingStock:0,c=a.dwellingStock-a.demandHouseholds,h=i?i.dwellingStock-i.demandHouseholds:0,p=h>c;return s.jsxs("div",{className:"card",style:{padding:14},children:[s.jsx("div",{className:"h2",style:{marginBottom:4},children:"Housing stock vs demand"}),s.jsx("div",{className:"muted",style:{fontSize:13,marginBottom:6},children:r.description}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:8,marginBottom:12,padding:10,background:"var(--bg-subtle)",borderRadius:8,fontSize:12},children:[s.jsxs("div",{children:[s.jsx("span",{className:"muted",children:"Stock growth:"})," ",s.jsx("strong",{children:re(o)}),s.jsxs("span",{className:"muted",children:[" (+",V(u)," dwellings)"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"muted",children:"Demand growth:"})," ",s.jsx("strong",{children:re(l)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"muted",children:"Initial surplus/deficit:"})," ",s.jsx("strong",{children:V(c)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"muted",children:"Final surplus/deficit:"})," ",s.jsx("strong",{style:{color:p?"#16a34a":"#dc2626"},children:V(h)}),s.jsx("span",{style:{marginLeft:4},children:p?"ðŸ“ˆ improving":"ðŸ“‰ worsening"})]})]}),s.jsx("div",{style:{width:"100%",height:260},children:s.jsx(we,{children:s.jsxs(Ie,{data:t,margin:{top:10,right:10,bottom:10,left:0},onMouseMove:d=>{const f=d?.activeLabel;typeof f=="number"&&n?.(f)},onMouseLeave:()=>n?.(null),children:[s.jsx(Oe,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(ie,{dataKey:"year",tick:{fontSize:11},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),s.jsx(se,{tickFormatter:d=>`${(d/1e6).toFixed(1)}M`,label:{value:"Dwellings / Households",angle:-90,position:"insideLeft",style:{fontSize:11,fill:"#6b7280"}},tick:{fontSize:11},tickLine:!1,axisLine:{stroke:"#e5e7eb"}}),s.jsx(ke,{formatter:(d,f)=>typeof d!="number"?[d,f]:[V(d),f],labelFormatter:d=>`Year ${d}`,contentStyle:{borderRadius:8,border:"1px solid var(--border)",fontSize:12}}),s.jsx(Pe,{wrapperStyle:{fontSize:12}}),s.jsx(S,{type:"monotone",dataKey:"dwellingStock",name:"Dwelling stock (supply)",stroke:"#0f766e",fill:"#0f766e",fillOpacity:.35}),s.jsx(S,{type:"monotone",dataKey:"demandHouseholds",name:"Household demand",stroke:"#0369a1",fill:"#0369a1",fillOpacity:.25})]})})}),s.jsxs(U,{summary:"How to interpret this chart",children:[s.jsx("p",{style:{margin:"0 0 8px 0"},children:r.interpretation}),s.jsxs("ul",{style:{margin:0,paddingLeft:16},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Green area:"})," Total dwelling stock (houses, apartments, etc.)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Blue area:"})," Estimated household demand (population Ã· 2.5 avg household size)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Gap between lines:"})," Supply-demand balance. Smaller gap = tighter market = higher prices"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Positive surplus:"})," More dwellings than households â€” healthier market"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deficit:"})," Fewer dwellings than households â€” price pressure"]})]})]}),s.jsxs(U,{summary:"How supply and demand interact",children:[s.jsx("p",{style:{margin:"0 0 8px 0"},children:r.mechanism}),s.jsxs("ul",{style:{margin:0,paddingLeft:16},children:[s.jsx("li",{children:"Population growth drives household formation"}),s.jsx("li",{children:"Construction adds to stock (minus demolitions)"}),s.jsx("li",{children:"If demand grows faster than supply, prices rise"}),s.jsx("li",{children:"Policy can boost supply (construction incentives) or reduce demand (investor restrictions)"})]})]}),s.jsx(he,{items:[r.limitations,"Assumes constant 2.5 average household size","Doesn't model dwelling type mix (houses vs apartments)","Vacancy rates not explicitly modeled"]})]})}export{Te as DwellingStockArea,Te as OwnershipMixArea};
//# sourceMappingURL=OwnershipMixArea-OZseRz1T.js.map
